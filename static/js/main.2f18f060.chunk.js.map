{"version":3,"sources":["component/table.js","component/clock.js","component/setting.js","component/highlight.js","index.js"],"names":["Table","_useState","useState","_useState2","Object","slicedToArray","current","set","tabling","data","console","log","result","split","forEach","element","index","pop","tablestr","document","createElement","tableBody","rowData","row","cellData","cell","appendChild","createTextNode","$","find","each","this","replaceWith","text","outerHTML","fetch","then","response","length","react_default","a","id","dangerouslySetInnerHTML","__html","DOMPurify","Clock","time","Date","toLocaleString","hour12","timeStyle","setInterval","Setting","ready","on","toggle","className","d","today","getDay","css","temp","now","diamondhill","maonshan","university","includes","html","addClass","createRoot","render","Fragment"],"mappings":"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","file":"static/js/main.2f18f060.chunk.js","sourcesContent":["import * as DOMPurify from 'dompurify';\r\nimport { useState } from \"react\";\r\nimport React from 'react';\r\nimport $ from 'jquery'\r\n\r\nexport default function Table(){\r\nconst [current,set]=useState();\r\nfetch('NEWschedule.csv').then(response=>response.text()).then(data=>{\r\ntabling(data)\r\n})\r\nif($('#timetable tr').length<2){\r\nfetch('https://vistabus.github.io/NEWschedule.csv').then(response=>response.text()).then(data=>{\r\ntabling(data)\r\n})}\r\n\r\n\r\nfunction tabling(data){\r\nconsole.log('tabling')\r\nvar result=data.split('\\r\\n')\r\nresult.forEach(function (element, index) {\r\nresult[index] = element.split(\",\")\r\n})\r\nresult.pop()\r\nvar tablestr = document.createElement('table');\r\nvar tableBody = document.createElement('tbody');\r\nresult.forEach(function(rowData) {\r\nvar row = document.createElement('tr');\r\nrowData.forEach(function(cellData) {\r\nvar cell = document.createElement('td');\r\ncell.appendChild(document.createTextNode(cellData));\r\nrow.appendChild(cell);\r\n});\r\ntableBody.appendChild(row);\r\n});\r\ntablestr.appendChild(tableBody);\r\n$(tablestr).find('tr:first-child td').each(function(){\r\n    $(this).replaceWith('<th>'+$(this).text()+'</th>');\r\n   });\r\n\r\nset( tablestr.outerHTML)\r\n\r\n}\r\n\r\nreturn (<div id='timetable' dangerouslySetInnerHTML={{__html: DOMPurify.sanitize(current)}} /> )\r\n}","import { useState } from \"react\";\r\nimport React from 'react';\r\nexport default function Clock(){\r\n\r\nlet time=new Date().toLocaleString([],{hour12:false,timeStyle:'medium'})\r\nconst [current,set]=useState(time);\r\nsetInterval(function(){ \r\nset(\r\n    new Date().toLocaleString([],{hour12:false,timeStyle:'medium'})\r\n)},1000)\r\nreturn(<h1>{current}</h1>);\r\n}","import $ from 'jquery'\r\nimport React from 'react';\r\n\r\nexport default function Setting(){\r\n    $(document).ready(function(){\r\n        $(document).on('click','#setting',function(){\r\n            $('section').toggle()\r\n        console.log( $('#setting'));\r\n\r\n        })\r\n\r\n})\r\nreturn (<section>\r\n<div className='twotoggles'> Visibility \r\n      <div>Public</div> \r\n      <div>Private</div>\r\n  </div>\r\n\r\n\r\n</section>);\r\n}","import $ from 'jquery'\r\nexport default function Highlighter(){\r\nsetInterval(function(){ \r\nconst weekday = [\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"];\r\nconst d = new Date();\r\nlet today = weekday[d.getDay()];\r\nvar casenum=0;\r\n\r\nif (d.getDay()>0 && d.getDay()<6){//mon to fri\r\ncasenum=1\r\n$('#timetable td:nth-child(2),#timetable td:nth-child(5)').css('color','darkgrey')\r\n\r\n\r\n\r\n}if(d.getDay()==6){//sat\r\ncasenum=2\r\n$('#timetable td:nth-child(1),#timetable td:nth-child(4)').css('color','darkgrey')\r\n}if(d.getDay==0){//sun\r\ncasenum=3\r\n$('#timetable td:nth-child(1),#timetable td:nth-child(2),#timetable td:nth-child(4)').css('color','darkgrey')\r\n}\r\n\r\n\r\n\r\nfunction minusMinutes(time, min) {\r\nfunction D(J){ return (J<10? '0':'') + J;};\r\nvar piece = time.split(':');\r\nvar mins = piece[0]*60 + +piece[1] + +min;\r\nreturn D(mins%(24*60)/60 | 0) + ':' + D(mins%60);  \r\n}  \r\nvar now=new Date()\r\nvar diamondhill=new Date(now-15*60*1000).toLocaleString([],{hour12:false,timeStyle:'medium'})\r\nvar maonshan=new Date(now-5*60*1000).toLocaleString([],{hour12:false,timeStyle:'medium'})\r\nvar university=new Date(now-10*60*1000).toLocaleString([],{hour12:false,timeStyle:'medium'})\r\nvar temp\r\nif(['Mon','Tue','Wed','Thu','Fri'].includes(today)){\r\n$('#timetable td:nth-child(1)').each(function(){\r\ntemp=$(this).html()\r\nif($(this).html().length==4) temp='0'+$(this).html()\r\nif(temp<diamondhill) {$(this).addClass('grey')}\r\n})\r\n$('#timetable td:nth-child(4)').each(function(){\r\ntemp=$(this).html()\r\nif($(this).html().length==4) temp='0'+$(this).html()\r\nif(temp<university) {$(this).addClass('grey')}\r\n})\r\n}\r\nif(['Sat'].includes(today)){\r\n$('#timetable td:nth-child(2)').each(function(){\r\ntemp=$(this).html()\r\nif($(this).html().length==4) temp='0'+$(this).html()\r\nif(temp<diamondhill) {$(this).addClass('grey')}\r\n})}\r\n\r\n$('#timetable td:nth-child(3)').each(function(){\r\ntemp=$(this).html()\r\nif($(this).html().length==4) temp='0'+$(this).html()\r\nif(temp<maonshan) {$(this).addClass('grey')}\r\n})\r\n\r\nif(['Sat','Sun'].includes(today)){\r\n$('#timetable td:nth-child(5)').each(function(){\r\ntemp=$(this).html()\r\nif($(this).html().length==4) temp='0'+$(this).html()\r\nif(temp<university) {$(this).addClass('grey')}\r\n})\r\n}\r\n//new\r\n},1000)//setinterval\r\n\r\n}","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { createRoot } from 'react-dom/client';\r\nimport 'w3-css/w3.css';\r\nimport './app.css'\r\nimport $ from 'jquery'\r\nimport Table from './component/table'\r\nimport Clock from './component/clock'\r\nimport Highlight from './component/highlight'\r\nimport Setting from './component/setting'\r\n\r\nHighlight()\r\nconst root = createRoot($('#root')[0]);\r\nroot.render(\r\n<React.Fragment>\r\n<Setting />\r\n<header><table><tbody><tr><td><Clock /></td><td><button id='setting'>âš™</button></td></tr></tbody></table></header>\r\n<Table />\r\n</React.Fragment>\r\n)"],"sourceRoot":""}