{"version":3,"sources":["component/table.js","component/clock.js","component/next.js","component/setting.js","component/highlight.js","index.js"],"names":["Table","_useState","useState","_useState2","Object","slicedToArray","current","set","fetch","then","response","text","data","result","split","forEach","element","index","pop","tablestr","document","createElement","tableBody","rowData","row","cellData","cell","appendChild","createTextNode","$","find","each","this","replaceWith","outerHTML","tabling","react_default","a","id","dangerouslySetInnerHTML","__html","DOMPurify","Clock","time","Date","toLocaleString","hour12","timeStyle","setInterval","Next","nextdia","setnextdia","_useState3","_useState4","nextma","setnextma","_useState5","_useState6","nextuni","setnextuni","_useState7","_useState8","dia","setdia","_useState9","_useState10","ma","setma","_useState11","_useState12","uni","setuni","addMinutes","minsToAdd","D","J","piece","mins","window","diamondhill","maonshan","university","nextdiamondhill","nextmaonshan","nextuniversity","Setting","ready","on","toggle","className","d","today","getDay","css","temp","now","includes","first","i","html","length","addClass","forth","second","third","fifth","createRoot","render","Fragment"],"mappings":"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","file":"static/js/main.f6edca52.chunk.js","sourcesContent":["import * as DOMPurify from 'dompurify';\r\nimport { useState } from \"react\";\r\nimport React from 'react';\r\nimport $ from 'jquery'\r\n\r\nexport default function Table(){\r\nconst [current,set]=useState();\r\nfetch('NEWschedule.csv').then(response=>response.text()).then(data=>{\r\ntabling(data)\r\n})\r\nfunction tabling(data){\r\nvar result=data.split('\\n');\r\nresult.forEach(function (element, index) {\r\nresult[index]=element.split(\",\");\r\n})\r\nresult.pop();\r\nvar tablestr = document.createElement('table');\r\nvar tableBody = document.createElement('tbody');\r\nresult.forEach(function(rowData) {\r\nvar row = document.createElement('tr');\r\nrowData.forEach(function(cellData) {\r\nvar cell = document.createElement('td');\r\ncell.appendChild(document.createTextNode(cellData));\r\nrow.appendChild(cell);\r\n});\r\ntableBody.appendChild(row);\r\n});\r\ntablestr.appendChild(tableBody);\r\n$(tablestr).find('tr:first-child td').each(function(){\r\n    $(this).replaceWith('<th>'+$(this).text()+'</th>');\r\n   });\r\n\r\nset( tablestr.outerHTML)\r\n\r\n}\r\n\r\nreturn (<div id='timetable' dangerouslySetInnerHTML={{__html: DOMPurify.sanitize(current)}} /> )\r\n}","import { useState } from \"react\";\r\nimport React from 'react';\r\nexport default function Clock(){\r\n\r\nlet time=new Date().toLocaleString([],{hour12:false,timeStyle:'medium'})\r\nconst [current,set]=useState(time);\r\nsetInterval(function(){ \r\nset(\r\n    new Date().toLocaleString([],{hour12:false,timeStyle:'medium'})\r\n)},1000)\r\nreturn(<h1>{current}</h1>);\r\n}","import $ from 'jquery'\r\nimport React,{ useState } from 'react';\r\n\r\nexport default function Next(){\r\nconst [nextdia,setnextdia]=useState();\r\nconst [nextma,setnextma]=useState();\r\nconst [nextuni,setnextuni]=useState();\r\n\r\nconst [dia,setdia]=useState();\r\nconst [ma,setma]=useState();\r\nconst [uni,setuni]=useState();\r\n\r\n\r\nfunction addMinutes(time, minsToAdd) {\r\n    function D(J){ return (J<10? '0':'') + J;};\r\n    var piece = time.split(':');\r\n    var mins = piece[0]*60 + +piece[1] + +minsToAdd;\r\n    return D(mins%(24*60)/60 | 0) + ':' + D(mins%60);  \r\n  }  \r\n  \r\nsetInterval(function(){ \r\n    setdia(window.diamondhill)\r\n    setma(window.maonshan)\r\n    setuni(window.university)\r\n\r\n    setnextdia(addMinutes(window.nextdiamondhill+':00','15'))\r\n    setnextma(addMinutes(window.nextmaonshan+':00','5'))\r\n    setnextuni(addMinutes(window.nextuniversity+':00','10'))\r\n},1000)//setinterval\r\n\r\n\r\nreturn (<div id='nextdiv'>\r\n\r\n<aside id='dia'><h2>DIAMOND HILL</h2>\r\n<a>{dia}</a>DEP.<span>{nextdia}</span>\r\n<h3>Vista Paradiso</h3></aside>\r\n\r\n\r\n<aside id='uni'><h2>UNIVERSITY</h2>\r\n<a>{uni}</a>DEP.<span>{nextuni}</span>\r\n<h3>Vista Paradiso</h3></aside>\r\n\r\n\r\n<aside id='ma'><h2>MA ON SHAN</h2>\r\n<a>{ma}</a>DEP.<span>{nextma}</span>\r\n<h3>Vista Paradiso</h3></aside>\r\n\r\n</div>);\r\n}","import $ from 'jquery'\r\nimport React from 'react';\r\n\r\nexport default function Setting(){\r\n    $(document).ready(function(){\r\n        $(document).on('click','#setting',function(){$('section').toggle()})\r\n        $(document).on('click','#next',function(){$('#nextdiv').toggle()})\r\n\r\n})\r\nreturn (<section>\r\n<div className='twotoggles'> Visibility \r\n      <div>Public</div> \r\n      <div>Private</div>\r\n  </div>\r\n\r\n\r\n</section>);\r\n}","import $ from 'jquery'\r\nexport default function Highlighter(){\r\nsetInterval(function(){ \r\nconst weekday = [\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"];\r\nconst d = new Date();\r\nlet today = weekday[d.getDay()];\r\nvar casenum=0;\r\nif (d.getDay()>0 && d.getDay()<6){//mon to fri\r\ncasenum=1\r\n$('#timetable td:nth-child(2),#timetable td:nth-child(5)').css('color','darkgrey')\r\n\r\n\r\n\r\n}if(d.getDay()===6){//sat\r\ncasenum=2\r\n$('#timetable td:nth-child(1),#timetable td:nth-child(4)').css('color','darkgrey')\r\n}if(d.getDay===0){//sun\r\ncasenum=3\r\n$('#timetable td:nth-child(1),#timetable td:nth-child(2),#timetable td:nth-child(4)').css('color','darkgrey')\r\n}\r\n\r\n\r\n\r\nfunction minusMinutes(time, min) {\r\nfunction D(J){ return (J<10? '0':'') + J;};\r\nvar piece = time.split(':');\r\nvar mins = piece[0]*60 + +piece[1] + +min;\r\nreturn D(mins%(24*60)/60 | 0) + ':' + D(mins%60);  \r\n}  \r\nvar now=new Date()\r\nvar diamondhill=new Date(now-15*60*1000).toLocaleString([],{hour12:false,timeStyle:'medium'})\r\nvar maonshan=new Date(now-5*60*1000).toLocaleString([],{hour12:false,timeStyle:'medium'})\r\nvar university=new Date(now-10*60*1000).toLocaleString([],{hour12:false,timeStyle:'medium'})\r\nnow=now.toLocaleString([],{hour12:false,timeStyle:'medium'})\r\nvar temp\r\nif(['Mon','Tue','Wed','Thu','Fri'].includes(today)){\r\nvar first=$('#timetable td:nth-child(1)')\r\nfirst.each(function(i){\r\ntemp=$(this).html()\r\nif($(this).html().length===4) temp='0'+$(this).html()\r\nif(temp<diamondhill&&temp!='') {\r\n    window.nextdiamondhill=$(first[i+1]).html()\r\n    $(this).addClass('grey')};\r\nif(temp<now&&temp!='')window.diamondhill=$(first[i+1]).html()\r\n})\r\nvar forth=$('#timetable td:nth-child(4)')\r\nforth.each(function(i){\r\ntemp=$(this).html()\r\nif($(this).html().length===4) temp='0'+$(this).html()\r\nif(temp<university&&temp!='') {\r\n    window.nextuniversity=$(forth[i+1]).html()\r\n    $(this).addClass('grey')}\r\nif(temp<now&&temp!='') window.university=$(forth[i+1]).html()\r\n\r\n})\r\n}\r\nif(['Sat'].includes(today)){\r\nvar second=$('#timetable td:nth-child(2)')\r\nsecond.each(function(i){\r\ntemp=$(this).html()\r\nif($(this).html().length===4) temp='0'+$(this).html()\r\nif(temp<diamondhill&&temp!='') {\r\n    window.nextdiamondhill=$(second[i+1]).html()\r\n    $(this).addClass('grey')}\r\n    if(temp<now&&temp!='') window.diamondhill=$(second[i+1]).html()\r\n\r\n})}\r\nvar third=$('#timetable td:nth-child(3)')\r\nthird.each(function(i){\r\ntemp=$(this).html()\r\nif($(this).html().length===4) temp='0'+$(this).html()\r\nif(temp<maonshan&&temp!='') {\r\n    window.nextmaonshan=$(third[i+1]).html()\r\n    $(this).addClass('grey')}\r\n    if(temp<now&&temp!='') window.maonshan=$(third[i+1]).html()\r\n\r\n})\r\n\r\nif(['Sat','Sun'].includes(today)){\r\nvar fifth=$('#timetable td:nth-child(5)')\r\nfifth.each(function(i){\r\ntemp=$(this).html()\r\nif($(this).html().length===4) temp='0'+$(this).html()\r\nif(temp<university&&temp!='') {\r\n    window.nextuniversity=$(fifth[i+1]).html()\r\n    $(this).addClass('grey')}\r\n    if(temp<now&&temp!='') window.university=$(fifth[i+1]).html()\r\n\r\n})\r\n}\r\n//new7\r\n},1000)//setinterval\r\n\r\n}","//import React, { Component } from 'react';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { createRoot } from 'react-dom/client';\r\nimport 'w3-css/w3.css';\r\nimport './app.css'\r\nimport $ from 'jquery'\r\nimport Table from './component/table'\r\nimport Clock from './component/clock'\r\nimport Highlight from './component/highlight'\r\nimport Next from './component/next'\r\nimport Setting from './component/setting'\r\nHighlight()\r\nconst root = createRoot($('#root')[0]);\r\nroot.render(\r\n<React.Fragment>\r\n<Next />\r\n<Setting />\r\n<header><table><tbody><tr><td><button id='next'>ⓘ</button></td>\r\n    <td><Clock /></td>\r\n    <td><button id='setting'>⚙</button></td></tr></tbody></table></header>\r\n<Table />\r\n</React.Fragment>\r\n)"],"sourceRoot":""}